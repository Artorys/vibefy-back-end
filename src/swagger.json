{
  "openapi": "3.0.0",
  "info": {
    "title": "Vibefy API",
    "description": "API para um streamer de músicas de forma aleatória, baseada em playlists de acordo com a vibe do usuário",
    "termsOfService": "http://localhost:3000/terms",
    "contact": {
      "email": "support@vibefy.com"
    },
    "version": "1.0.0"
  },

  "paths": {
    "/user": {
      "post": {
        "summary": "Criação de usuários",
        "description": "Esta rota faz a criação de usuários para o aplicativo",
        "tags": ["User"],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/createUser"
              },
              "examples": {
                "user": {
                  "value": {
                    "name": "Janet",
                    "email": "email@user.com",
                    "password": "1234"
                  }
                }
              }
            }
          }
        },

        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/responseUser"
                },
                "example": {
                  "name": "Joana",
                  "email": "joana@kenzie.com",
                  "playlist": [],
                  "created_At": "December 17, 1995 03:24:00",
                  "updated_At": "December 17, 1995 03:24:00",
                  "id": "61920fb4-eb18-437b-8901-b8ce52c6ab29",
                  "avatar_img": "https://www.lance.com.br/files/article_main/uploads/2022/04/29/626c07807ccfa.jpeg",
                  "isActive": "true"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "example": {
                  "message": "{field} is a required field"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/json": {
                "example": { "message": "E-mail already exists" }
              }
            }
          }
        }
      },
      "get": {
        "security": [{ "bearerAuth": [] }],
        "tags": ["Adm"],
        "summary": "Listar todos os perfis de usuário",
        "description": "Listar todos os perfis de usuário, esta rota necessita de permissão de administrador e autenticação.",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "anyOf": {
                      "name": { "type": "string" },
                      "email": { "type": "string" },
                      "playlist": { "type": "array" },
                      "created_At": { "type": "string" },
                      "updated_At": { "type": "string" },
                      "id": { "type": "string", "format": "uuid" },
                      "avatar_img": { "type": "string" },
                      "isActive": { "type": "boolean" }
                    }
                  }
                },

                "example": [
                  {
                    "id": "6a6f480f-5360-4256-b431-875e115ef02f",
                    "name": "Vinícius",
                    "email": "vinicius@email.com",
                    "avatar_img": "https://www.lance.com.br/files/article_main/uploads/2022/04/29/626c07807ccfa.jpeg",
                    "isActive": false,
                    "created_At": "2022-11-08",
                    "updated_At": "2022-11-08",
                    "playlist": []
                  },
                  {
                    "id": "6a8f480f-5360-4356-b431-875e115ef02p",
                    "name": "henrique",
                    "email": "henrique@user.com.br",
                    "avatar_img": "https://www.lance.com.br/files/article_main/uploads/2022/04/29/626c07807ccfa.jpeg",
                    "isActive": false,
                    "created_At": "2022-11-08",
                    "updated_At": "2022-11-08",
                    "playlist": []
                  }
                ]
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "examples": {
                  "Invalid token": {
                    "value": {
                      "message": "Invalid token"
                    }
                  },
                  "User is not an admin": {
                    "value": {
                      "message": "User is not an admin"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/user/{userId}": {
      "get": {
        "security": [{ "bearerAuth": [] }],
        "tags": ["Adm"],
        "summary": "Listar perfil de usuário a partir do seu id",
        "description": "Esta rota faz a listagem de um usuário a partir do seu id, esta rota necessita de privilégios de administrador e autenticação",
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "description": "Id do usuário a ser retornado",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "example": {
                  "id": "c50a044f-0fec-4e15-aa6b-a17b72c0f6c7",
                  "name": "Janet",
                  "email": "email@user.com",
                  "avatar_img": "https://www.lance.com.br/files/article_main/uploads/2022/04/29/626c07807ccfa.jpeg",
                  "isActive": true,
                  "created_At": "2022-11-08",
                  "updated_At": "2022-11-08",
                  "playlist": []
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "examples": {
                  "Invalid token": {
                    "value": {
                      "message": "Invalid token"
                    }
                  },
                  "User is not an admin": {
                    "value": {
                      "message": "User is not an admin"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "delete": {
        "security": [{ "bearerAuth": [] }],
        "tags": ["Adm"],
        "summary": "Desativar perfil de usuário pelo Id",
        "description": "Esta rota desativa o perfil de usuário pelo id, esta rota necessita de autenticação e privilégios de administrador.",
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "description": "Id do usuário a ser desativado",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Success"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "example": {
                  "message": "{field} is a required field"
                }
              }
            }
          },
          "401": {
            "content": {
              "application/json": {
                "examples": {
                  "Invalid token": {
                    "value": {
                      "message": "Invalid token"
                    }
                  },
                  "User is not an admin": {
                    "value": {
                      "message": "User is not an admin"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/user/profile": {
      "get": {
        "security": [{ "bearerAuth": [] }],
        "tags": ["User"],
        "summary": "Listar o próprio perfil",
        "description": "Esta rota faz a listagem do próprio perfil do usuário, esta rota necessita de autenticação",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/responseUser"
                },
                "example": {
                  "id": "6a6f480f-5360-4256-b431-875e115ef02f",
                  "name": "Vinícius",
                  "email": "henrique@user.com.br",
                  "avatar_img": "https://www.lance.com.br/files/article_main/uploads/2022/04/29/626c07807ccfa.jpeg",
                  "isActive": false,
                  "created_At": "2022-11-08",
                  "updated_At": "2022-11-08",
                  "playlist": []
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/UnauthorizedError"
          }
        }
      },
      "patch": {
        "security": [{ "bearerAuth": [] }],
        "tags": ["User"],
        "summary": "Atualizar informações do usuário",
        "description": "Esta rota faz a atualização das informações do usuário, esta rota necessita de autenticação",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/createUser"
              },
              "examples": {
                "user": {
                  "value": {
                    "name": "Vinícius"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Updated",
            "content": {
              "application/json": {
                "example": { "message": "User updated" }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "example": {
                  "message": "{field} is a required field"
                }
              }
            }
          },
          "401": {
            "content": {
              "application/json": {
                "examples": {
                  "Invalid token": {
                    "value": {
                      "message": "Invalid token"
                    }
                  },
                  "Not an user": {
                    "value": {
                      "message": "Must be logged in as an user"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "delete": {
        "security": [{ "bearerAuth": [] }],
        "tags": ["User"],
        "summary": "Desativar perfil de usuário",
        "description": "Esta rota desativa o perfil do usuário, esta rota necessita de autenticação.",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "isActive": "boolean"
                }
              },
              "example": {
                "isActive": "false"
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "Success"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "example": {
                  "message": "{field} is a required field"
                }
              }
            }
          },
          "401": {
            "content": {
              "application/json": {
                "examples": {
                  "Invalid token": {
                    "value": {
                      "message": "Invalid token"
                    }
                  },
                  "Not an user": {
                    "value": {
                      "message": "Must be logged in as an user"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/user/profile/avatar": {
      "post": {
        "security": [{ "bearerAuth": [] }],
        "tags": ["User"],
        "summary": "Enviar imagem de usuário",
        "description": "Altera a imagem de usuário, esta rota necessita de autenticação.",
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "avatar_img": { "type": "string", "format": "binary" }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Added",
            "content": {
              "application/json": {
                "example": { "message": "Image upload success" }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "examples": {
                  "Image field is required": {
                    "value": {
                      "message": "Image field is required"
                    }
                  },
                  "Wrong image format": {
                    "value": {
                      "message": "Image format must be png or jpeg"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "content": {
              "application/json": {
                "examples": {
                  "Invalid token": {
                    "value": {
                      "message": "Invalid token"
                    }
                  },
                  "Not an user": {
                    "value": {
                      "message": "Must be logged in as an user"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/login": {
      "post": {
        "summary": "Login de usuário",
        "description": "Rota de login de usuário, retorna o token de usuário.",
        "tags": ["Session"],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Login"
              },
              "examples": {
                "User": {
                  "value": {
                    "email": "email@user.com",
                    "password": "1234"
                  }
                },
                "Adm": {
                  "value": {
                    "email": "henrique@vibes.com",
                    "password": "senhaForte1234"
                  }
                },
                "Artist": {
                  "value": {
                    "email": "dualipa@artist.com",
                    "password": "1234"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImhlbnJpcXVlQHVzZXIuY29tLmJyIiwidHlwZSI6InVzZXIiLCJpYXQiOjE2Njc5MTk3MTMsImV4cCI6MTY2ODAwNjExMywic3ViIjoiNmE2ZjQ4MGYtNTM2MC00MjU2LWI0MzEtODc1ZTExNWVmMDJmIn0.aOmYEgBj4t8gBUAXMz0zdVfwtYC7R1UahESIfDAf8Po"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "examples": {
                  "Wrong email/password": {
                    "value": {
                      "message": "Wrong email/password"
                    }
                  },
                  "Required field": {
                    "value": {
                      "message": "{field} is a required field"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/adm": {
      "post": {
        "summary": "Criação de usuários com privilégios de administrador",
        "description": "Esta é uma rota de destinada à criação de usuários com privilégios de administrador.",
        "tags": ["Adm"],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": { "type": "string" },
                  "email": { "type": "string" },
                  "password": { "type": "string" },
                  "admHash": { "type": "string" }
                }
              },
              "examples": {
                "user": {
                  "value": {
                    "name": "henrique",
                    "email": "henrique@vibes.com",
                    "password": "senhaForte1234",
                    "admHash": "69faaa2bffab03d3e80e08ac1181526a"
                  }
                }
              }
            }
          }
        },

        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "example": {
                  "name": "henrique",
                  "email": "henrique@vibes.com",
                  "id": "7ba51f56-b786-490a-9e3a-8df8cf565a03",
                  "avatar_img": "https://www.lance.com.br/files/article_main/uploads/2022/04/29/626c07807ccfa.jpeg"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "example": {
                  "message": "{field} is a required field"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "examples": {
                  "Invalid token": {
                    "value": {
                      "message": "Invalid token"
                    }
                  },
                  "Hash invalid": {
                    "value": {
                      "message": "Hash Invalid"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/json": {
                "example": {
                  "message": "E-mail already exists"
                }
              }
            }
          }
        }
      }
    },
    "/adm/profile": {
      "get": {
        "security": [{ "bearerAuth": [] }],
        "tags": ["Adm"],
        "summary": "Listar o próprio perfil do administrador",
        "description": "Esta rota faz a listagem do próprio perfil do administrador, esta rota necessita de autenticação",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/responseUser"
                },

                "example": {
                  "id": "7ba51f56-b786-490a-9e3a-8df8cf565a03",
                  "name": "henrique",
                  "email": "henrique@vibes.com",
                  "avatar_img": "https://www.lance.com.br/files/article_main/uploads/2022/04/29/626c07807ccfa.jpeg",
                  "password": "$2a$10$g0hHOzJZyS1Y2H7PJjW5zOmWhlWEy6Sdy2mM/BAXu7J8X7Xskv6vC"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "examples": {
                  "Invalid token": {
                    "value": {
                      "message": "Invalid token"
                    }
                  },
                  "User is not an admin": {
                    "value": {
                      "message": "User is not an admin"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "patch": {
        "security": [{ "bearerAuth": [] }],
        "tags": ["Adm"],
        "summary": "Atualizar informações do usuário",
        "description": "Esta rota faz a atualização das informações do usuário, esta rota necessita de autenticação",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/createUser"
              },
              "examples": {
                "user": {
                  "value": {
                    "name": "Vinícius"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Updated",
            "content": {
              "application/json": {
                "example": { "message": "User updated" }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "example": {
                  "message": "{field} is a required field"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "examples": {
                  "Invalid token": {
                    "value": {
                      "message": "Invalid token"
                    }
                  },
                  "User is not an admin": {
                    "value": {
                      "message": "User is not an admin"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/adm/profile/avatar": {
      "post": {
        "security": [{ "bearerAuth": [] }],
        "tags": ["Adm"],
        "summary": "Enviar imagem de perfil do administrador",
        "description": "Altera a imagem de perfil do administrador, esta rota necessita de autenticação.",
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "avatar": { "type": "string", "format": "binary" }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Added",
            "content": {
              "application/json": {
                "example": { "message": "Image upload success" }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "examples": {
                  "Image field is required": {
                    "value": {
                      "message": "Image field is required"
                    }
                  },
                  "Wrong image format": {
                    "value": {
                      "message": "Image format must be png or jpeg"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "examples": {
                  "Invalid token": {
                    "value": {
                      "message": "Invalid token"
                    }
                  },
                  "User is not an admin": {
                    "value": {
                      "message": "User is not an admin"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/artist": {
      "post": {
        "summary": "Criação de usuários artistas",
        "description": "Esta rota faz a criação de usuários artistas.",
        "tags": ["Artist"],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/createUser"
              },
              "examples": {
                "user": {
                  "value": {
                    "name": "Dua Lipa",
                    "email": "dualipa@artist.com",
                    "password": "1234"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "name": { "type": "string" },
                    "email": { "type": "string" },
                    "created_At": { "type": "string" },
                    "updated_At": { "type": "string" },
                    "id": { "type": "string", "format": "uuid" },
                    "avatar_img": { "type": "string" },
                    "isActive": { "type": "boolean" }
                  }
                },
                "example": {
                  "name": "Dua Lipa",
                  "email": "dualipa@artist.com",
                  "created_At": "December 17, 1995 03:24:00",
                  "updated_At": "December 17, 1995 03:24:00",
                  "id": "61920fb4-eb18-437b-8901-b8ce52c6ab29",
                  "avatar_img": "https://www.lance.com.br/files/article_main/uploads/2022/04/29/626c07807ccfa.jpeg",
                  "isActive": "true"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "example": {
                  "message": "{field} is a required field"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/json": {
                "example": { "message": "E-mail already exists" }
              }
            }
          }
        }
      },
      "get": {
        "security": [{ "bearerAuth": [] }],
        "tags": ["Adm"],
        "summary": "Listar todos os perfis de artistas",
        "description": "Listar todos os perfis de artistas, esta rota necessita de permissão de administrador e autenticação.",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "anyOf": {
                      "id": { "type": "string", "format": "uuid" },
                      "name": { "type": "string" },
                      "email": { "type": "string" },
                      "avatar_img": { "type": "string" },
                      "isActive": { "type": "boolean" },
                      "created_At": { "type": "string" },
                      "updated_At": { "type": "string" },
                      "music": { "type": "array" }
                    }
                  }
                },

                "example": [
                  {
                    "id": "6a6f480f-5360-4256-b431-875e115ef02f",
                    "name": "Lady Gaga",
                    "email": "ladygaga@artist.com",
                    "avatar_img": "https://www.lance.com.br/files/article_main/uploads/2022/04/29/626c07807ccfa.jpeg",
                    "isActive": true,
                    "created_At": "2022-11-08",
                    "updated_At": "2022-11-08",
                    "music": [
                      {
                        "name": "Bad Romance",
                        "genre": "pop",
                        "description": "example",
                        "duration": "example"
                      },
                      {
                        "name": "Born This Way",
                        "genre": "pop",
                        "description": "example",
                        "duration": "example"
                      },
                      {
                        "name": "Poker Face",
                        "genre": "pop",
                        "description": "example",
                        "duration": "example"
                      }
                    ]
                  },
                  {
                    "id": "6a8f480f-5360-4356-b431-875e115ef02p",
                    "name": "Dua Lipa",
                    "email": "dualipa@artist.com",
                    "avatar_img": "https://www.lance.com.br/files/article_main/uploads/2022/04/29/626c07807ccfa.jpeg",
                    "isActive": false,
                    "created_At": "2022-11-08",
                    "updated_At": "2022-11-08",
                    "music": [
                      {
                        "name": "Dont Start Now",
                        "genre": "pop",
                        "description": "example",
                        "duration": "example"
                      },
                      {
                        "name": "Physical",
                        "genre": "pop",
                        "description": "example",
                        "duration": "example"
                      },
                      {
                        "name": "Levitating",
                        "genre": "pop",
                        "description": "example",
                        "duration": "example"
                      },
                      {
                        "name": "Break My Heart",
                        "genre": "pop",
                        "description": "example",
                        "duration": "example"
                      }
                    ]
                  }
                ]
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "examples": {
                  "Invalid token": {
                    "value": {
                      "message": "Invalid token"
                    }
                  },
                  "User is not an admin": {
                    "value": {
                      "message": "User is not an admin"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/artist/{artistId}": {
      "get": {
        "security": [{ "bearerAuth": [] }],
        "tags": ["Adm"],
        "summary": "Listar perfil de artista a partir do seu id",
        "description": "Esta rota faz a listagem de um artista a partir do seu id, esta rota necessita de privilégios de administrador e autenticação",
        "parameters": [
          {
            "name": "artistId",
            "in": "path",
            "description": "Id do artista a ser retornado",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "example": {
                  "id": "6a6f480f-5360-4256-b431-875e115ef02f",
                  "name": "Lady Gaga",
                  "email": "ladygaga@artist.com",
                  "avatar_img": "https://www.lance.com.br/files/article_main/uploads/2022/04/29/626c07807ccfa.jpeg",
                  "isActive": true,
                  "created_At": "2022-11-08",
                  "updated_At": "2022-11-08",
                  "music": [
                    {
                      "name": "Bad Romance",
                      "genre": "pop",
                      "description": "example",
                      "duration": "example"
                    },
                    {
                      "name": "Born This Way",
                      "genre": "pop",
                      "description": "example",
                      "duration": "example"
                    },
                    {
                      "name": "Poker Face",
                      "genre": "pop",
                      "description": "example",
                      "duration": "example"
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "example": {
                  "message": "Artist not exist"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "examples": {
                  "Invalid token": {
                    "value": {
                      "message": "Invalid token"
                    }
                  },
                  "User is not an admin": {
                    "value": {
                      "message": "User is not an admin"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "delete": {
        "security": [{ "bearerAuth": [] }],
        "tags": ["Adm"],
        "summary": "Desativar perfil de artista pelo Id",
        "description": "Esta rota desativa o perfil de artista pelo Id, esta rota necessita de autenticação e privilégios de administrador.",
        "parameters": [
          {
            "name": "artistId",
            "in": "path",
            "description": "Id do artista a ser desativado",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Success"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "example": {
                  "message": "{field} is a required field"
                }
              }
            }
          },
          "401": {
            "content": {
              "application/json": {
                "examples": {
                  "Invalid token": {
                    "value": {
                      "message": "Invalid token"
                    }
                  },
                  "User is not an admin": {
                    "value": {
                      "message": "User is not an admin"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/artist/profile": {
      "get": {
        "security": [{ "bearerAuth": [] }],
        "tags": ["Artist"],
        "summary": "Listar o próprio perfil",
        "description": "Esta rota faz a listagem do próprio perfil do artista, esta rota necessita de autenticação",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": { "type": "string", "format": "uuid" },
                    "name": { "type": "string" },
                    "email": { "type": "string" },
                    "avatar_img": { "type": "string" },
                    "isActive": { "type": "boolean" },
                    "created_At": { "type": "string" },
                    "updated_At": { "type": "string" },
                    "music": { "type": "array" }
                  }
                },
                "example": {
                  "id": "034bc647-27fa-4c8f-a22c-b1b3c4cd2506",
                  "name": "Dua Lipa",
                  "email": "dualipa@artist.com",
                  "avatar_img": "https://www.lance.com.br/files/article_main/uploads/2022/04/29/626c07807ccfa.jpeg",
                  "isActive": true,
                  "created_At": "2022-11-08",
                  "updated_At": "2022-11-08",
                  "music": [
                    {
                      "id": "3a7bf59c-d497-4018-9211-0b8debd43c6a",
                      "name": "Dont Start Now",
                      "artistName": "Dua Lipa",
                      "genre": "pop",
                      "description": "Dua lipa's Dont Start Now Music",
                      "music_url": null,
                      "image_url": null,
                      "created_At": "2022-11-09",
                      "updated_At": "2022-11-09"
                    },
                    {
                      "id": "47504428-35cd-477e-8e66-f652e62525bf",
                      "name": "Levitating",
                      "artistName": "Dua Lipa",
                      "genre": "pop",
                      "description": "Dua lipa's Levitating Music",
                      "music_url": null,
                      "image_url": null,
                      "created_At": "2022-11-09",
                      "updated_At": "2022-11-09"
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/UnauthorizedError"
          }
        }
      },
      "patch": {
        "security": [{ "bearerAuth": [] }],
        "tags": ["Artist"],
        "summary": "Atualizar informações do artista",
        "description": "Esta rota faz a atualização das informações do artista, esta rota necessita de autenticação",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "name": { "type": "string" },
                "email": { "type": "string" },
                "password": { "type": "string" }
              },
              "example": {
                "name": "Dula Peep",
                "email": "dulapeep@artist.com",
                "password": "12345"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Updated",
            "content": {
              "application/json": {
                "example": { "message": "User updated" }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "example": {
                  "message": "{field} is a required field"
                }
              }
            }
          },
          "401": {
            "content": {
              "application/json": {
                "examples": {
                  "Invalid token": {
                    "value": {
                      "message": "Invalid token"
                    }
                  },
                  "User is not an artist": {
                    "value": {
                      "message": "User is not an artist"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "delete": {
        "security": [{ "bearerAuth": [] }],
        "tags": ["Artist"],
        "summary": "Desativar perfil de artista",
        "description": "Esta rota desativa o perfil de artista, esta rota necessita de autenticação.",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "isActive": "boolean"
                }
              },
              "example": {
                "isActive": "false"
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "Success"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "example": {
                  "message": "{field} is a required field"
                }
              }
            }
          },
          "401": {
            "content": {
              "application/json": {
                "examples": {
                  "Invalid token": {
                    "value": {
                      "message": "Invalid token"
                    }
                  },
                  "User is not an artist": {
                    "value": {
                      "message": "User is not an artist"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/artist/music": {
      "post": {
        "security": [{ "bearerAuth": [] }],
        "tags": ["Artist"],
        "summary": "Rota para inserção de músicas",
        "description": "Rota para a inserção de músicas do artista, esta rota necessita de autenticação e privilégios de artista.",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {}
              },
              "example": {
                "name": "Dont Start Now",
                "genre": "pop",
                "description": "Dua lipa's Dont Start Now Music"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "example": {
                  "name": "Dont Start Now",
                  "artistName": "Dua Lipa",
                  "description": "Dua lipa's Dont Start Now Music",
                  "genre": "pop",
                  "created_At": "2022-11-09T16:15:49.364Z",
                  "updated_At": "2022-11-09T16:15:49.364Z",
                  "music_url": null,
                  "image_url": null,
                  "id": "3a7bf59c-d497-4018-9211-0b8debd43c6a"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "example": {
                  "message": "{field} is a required field"
                }
              }
            }
          },
          "401": {
            "content": {
              "application/json": {
                "examples": {
                  "Invalid token": {
                    "value": {
                      "message": "Invalid token"
                    }
                  },
                  "User is not an artist": {
                    "value": {
                      "message": "User is not an artist"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "get": {
        "security": [{ "bearerAuth": [] }],
        "tags": ["Artist"],
        "summary": "Rota para buscar músicas do artista",
        "description": "Rota para buscar músicas do artista, esta rota necessita de autenticação e privilégios de artista.",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "example": [
                  {
                    "id": "3a7bf59c-d497-4018-9211-0b8debd43c6a",
                    "name": "Dont Start Now",
                    "artistName": "Dua Lipa",
                    "genre": "pop",
                    "description": "Dua lipa's Dont Start Now Music",
                    "music_url": null,
                    "image_url": null,
                    "created_At": "2022-11-09",
                    "updated_At": "2022-11-09"
                  },
                  {
                    "id": "47504428-35cd-477e-8e66-f652e62525bf",
                    "name": "Levitating",
                    "artistName": "Dua Lipa",
                    "genre": "pop",
                    "description": "Dua lipa's Levitating Music",
                    "music_url": null,
                    "image_url": null,
                    "created_At": "2022-11-09",
                    "updated_At": "2022-11-09"
                  }
                ]
              }
            }
          },
          "401": {
            "content": {
              "application/json": {
                "examples": {
                  "Invalid token": {
                    "value": {
                      "message": "Invalid token"
                    }
                  },
                  "User is not an artist": {
                    "value": {
                      "message": "User is not an artist"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/artist/music/{musicId}": {
      "get": {
        "security": [{ "bearerAuth": [] }],
        "tags": ["Artist"],
        "summary": "Listar uma música a partir do seu id",
        "description": "Esta rota faz a listagem de uma música a partir do seu id, esta rota necessita de privilégios de artista e autenticação",
        "parameters": [
          {
            "name": "musicId",
            "in": "path",
            "description": "Id da música a ser retornada",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "example": [
                  {
                    "id": "3a7bf59c-d497-4018-9211-0b8debd43c6a",
                    "name": "Dont Start Now",
                    "artistName": "Dua Lipa",
                    "genre": "pop",
                    "description": "Dua lipa's Dont Start Now Music",
                    "music_url": null,
                    "image_url": null,
                    "created_At": "2022-11-09",
                    "updated_At": "2022-11-09"
                  }
                ]
              }
            }
          },
          "400": {
            "description": "Bad Request"
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "examples": {
                  "Invalid token": {
                    "value": {
                      "message": "Invalid token"
                    }
                  },
                  "User is not an admin": {
                    "value": {
                      "message": "User is not an artist"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/artist/music/{musicId}/files": {
      "post": {
        "security": [{ "bearerAuth": [] }],
        "tags": ["Artist"],
        "summary": "Enviar arquivo de imagem e de música",
        "description": "Esta rota faz a inserção dos arquivos de imagem e de áudio de uma música a partir do id da música.",
        "parameters": [
          {
            "name": "musicId",
            "in": "path",
            "description": "Id da música que vai receber os arquivos de imagem e áudio",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "music": { "type": "string", "format": "binary" },
                  "image": { "type": "string", "format": "binary" }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "example": {
                  "id": "3a7bf59c-d497-4018-9211-0b8debd43c6a",
                  "name": "Dont Start Now",
                  "artistName": "Dua Lipa",
                  "genre": "pop",
                  "description": "Dua lipa's Dont Start Now Music",
                  "duration": null,
                  "music_url": "https://vibefy.s3.sa-east-1.amazonaws.com/musics/3a7bf59c-d497-4018-9211-0b8debd43c6a/Dont Start Now.mp3",
                  "image_url": "https://vibefy.s3.sa-east-1.amazonaws.com/musics/3a7bf59c-d497-4018-9211-0b8debd43c6a/Dont Start Now.jpeg",
                  "created_At": "2022-11-09",
                  "updated_At": "2022-11-09"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "example": {
                  "message": "Wrong file format"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "examples": {
                  "Invalid token": {
                    "value": {
                      "message": "Invalid token"
                    }
                  },
                  "User is not an artist": {
                    "value": {
                      "message": "User is not an artist"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "example": {
                  "message": "Music not found"
                }
              }
            }
          }
        }
      }
    },
    "/artist/profile/avatar": {
      "post": {
        "security": [{ "bearerAuth": [] }],
        "tags": ["Artist"],
        "summary": "Enviar imagem de perfil do artista",
        "description": "Altera a imagem de perfil do artista, esta rota necessita de autenticação e privilégios de artista.",
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "avatar": { "type": "string", "format": "binary" }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Added",
            "content": {
              "application/json": {
                "example": { "message": "Image upload success" }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "examples": {
                  "Image field is required": {
                    "value": {
                      "message": "Image field is required"
                    }
                  },
                  "Wrong image format": {
                    "value": {
                      "message": "Image format must be png or jpeg"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "examples": {
                  "Invalid token": {
                    "value": {
                      "message": "Invalid token"
                    }
                  },
                  "User is not an artist": {
                    "value": {
                      "message": "User is not an artist"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/playlist": {
      "post": {
        "security": [{ "bearerAuth": [] }],
        "summary": "Criação de playlists",
        "tags": ["Adm"],
        "description": "Esta rota faz a criação de uma playlist, esta rota necessita de autenticação e privilégios de administrador",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": { "type": "string" }
                }
              },
              "example": {
                "name": "Summer Vibes"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "example": {
                  "name": "Summer Vibes",
                  "created_At": "2022-11-09T20:40:27.998Z",
                  "updated_At": "2022-11-09T20:40:27.998Z",
                  "music": [],
                  "id": "b155238b-3744-4fd1-9878-3c8bb4e45b91"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "example": {
                  "message": "{field} is a required field"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "examples": {
                  "Invalid token": {
                    "value": {
                      "message": "Invalid token"
                    }
                  },
                  "User is not an admin": {
                    "value": {
                      "message": "User is not an admin"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "get": {
        "security": [{ "bearerAuth": [] }],
        "tags": ["Adm"],
        "summary": "Listar todas as playlists",
        "description": "Listar todas as playlists, esta rota necessita de permissão de administrador e autenticação.",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "example": [
                  {
                    "id": "b155238b-3744-4fd1-9878-3c8bb4e45b91",
                    "name": "Summer Vibes",
                    "created_At": "2022-11-09",
                    "updated_At": "2022-11-09",
                    "music": [
                      {
                        "id": "47504428-35cd-477e-8e66-f652e62525bf",
                        "name": "Levitating",
                        "artistName": "Dua Lipa",
                        "genre": "pop",
                        "description": "Dua lipa's Levitating Music",
                        "duration": null,
                        "music_url": null,
                        "image_url": null,
                        "created_At": "2022-11-09",
                        "updated_At": "2022-11-09"
                      }
                    ]
                  }
                ]
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "examples": {
                  "Invalid token": {
                    "value": {
                      "message": "Invalid token"
                    }
                  },
                  "User is not an admin": {
                    "value": {
                      "message": "User is not an admin"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/playlist/{playlistId}": {
      "get": {
        "security": [{ "bearerAuth": [] }],
        "summary": "Retornar playlist pelo id",
        "tags": ["Adm"],
        "description": "Esta rota busca uma playlist a partir do seu id, esta rota necessita de privilégios de administrador e autenticação",
        "parameters": [
          {
            "name": "playlistId",
            "in": "path",
            "description": "Id da playlist que será retornada",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "example": {
                  "id": "b155238b-3744-4fd1-9878-3c8bb4e45b91",
                  "name": "Summer Vibes",
                  "created_At": "2022-11-09",
                  "updated_At": "2022-11-09",
                  "music": [
                    {
                      "id": "47504428-35cd-477e-8e66-f652e62525bf",
                      "name": "Levitating",
                      "artistName": "Dua Lipa",
                      "genre": "pop",
                      "description": "Dua lipa's Levitating Music",
                      "duration": null,
                      "music_url": null,
                      "image_url": null,
                      "created_At": "2022-11-09",
                      "updated_At": "2022-11-09"
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request"
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "examples": {
                  "Invalid token": {
                    "value": {
                      "message": "Invalid token"
                    }
                  },
                  "User is not an admin": {
                    "value": {
                      "message": "User is not an admin"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "examples": {
                  "Playlist Not Found": {
                    "value": {
                      "message": "Playlist Not Found"
                    }
                  }
                }
              }
            }
          }
        }
      }, 
      "delete":{
        "security": [{ "bearerAuth": [] }],
        "summary": "Retornar playlist pelo id",
        "tags": ["Adm"],
        "description": "Esta rota busca uma playlist a partir do seu id, esta rota necessita de privilégios de administrador e autenticação",
        "parameters": [
          {
            "name": "playlistId",
            "in": "path",
            "description": "Id da playlist que será excluída",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "No content"
          },
          "400": {
            "description": "Bad Request"
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "examples": {
                  "Invalid token": {
                    "value": {
                      "message": "Invalid token"
                    }
                  },
                  "User is not an admin": {
                    "value": {
                      "message": "User is not an admin"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "examples": {
                  "Playlist Not Found": {
                    "value": {
                      "message": "Playlist Not Found"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/playlist/{playlistId}/{musicId}": {
      "post": {
        "security": [{ "bearerAuth": [] }],
        "tags": ["Adm"],
        "summary": "Adicionar músicas em uma playlist a partir de seu id",
        "description": "Esta rota adiciona músicas em uma playlist a partir do id da playlist e id da música a ser adicionada, esta rota necessita de privilégios de administrador e autenticação",
        "parameters": [
          {
            "name": "playlistId",
            "in": "path",
            "description": "Id da playlist que receberá a música adicionada",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "musicId",
            "in": "path",
            "description": "Id da música a ser adicionada",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "example": {
                  "id": "47504428-35cd-477e-8e66-f652e62525bf",
                  "name": "Levitating",
                  "artistName": "Dua Lipa",
                  "genre": "pop",
                  "description": "Dua lipa's Levitating Music",
                  "duration": null,
                  "music_url": null,
                  "image_url": null,
                  "created_At": "2022-11-09",
                  "updated_At": "2022-11-09"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request"
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "examples": {
                  "Invalid token": {
                    "value": {
                      "message": "Invalid token"
                    }
                  },
                  "User is not an admin": {
                    "value": {
                      "message": "User is not an admin"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "examples": {
                  "Playlist Not Found": {
                    "value": {
                      "message": "Playlist Not Found"
                    }
                  },
                  "Music Not Found": {
                    "value": {
                      "message": "Music not found"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "delete":{
        "security": [{ "bearerAuth": [] }],
        "summary": "Excluir música de uma playlist pelo seu id",
        "tags": ["Adm"],
        "description": "Esta rota exclui uma música da playlist a partir do id da playlist e o id da música a ser excluída.",
        "parameters": [
          {
            "name": "playlistId",
            "in": "path",
            "description": "Id da playlist que se encontra a música a ser excluída",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "musicId",
            "in": "path",
            "description": "Id da música que será excluída da playlist",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "No content"
          },
          "400": {
            "description": "Bad Request"
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "examples": {
                  "Invalid token": {
                    "value": {
                      "message": "Invalid token"
                    }
                  },
                  "User is not an admin": {
                    "value": {
                      "message": "User is not an admin"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "examples": {
                  "Playlist Not Found": {
                    "value": {
                      "message": "Playlist/Music Not Found"
                    }
                  }
                }
              }
            }
          }
        }
      }
    }

  },
  "components": {
    "schemas": {
      "createUser": {
        "type": "object",
        "properties": {
          "name": { "type": "string" },
          "email": { "type": "string" },
          "password": { "type": "string" }
        }
      },
      "responseUser": {
        "type": "object",
        "properties": {
          "name": { "type": "string" },
          "email": { "type": "string" },
          "playlist": { "type": "array" },
          "created_At": { "type": "string" },
          "updated_At": { "type": "string" },
          "id": { "type": "string", "format": "uuid" },
          "avatar_img": { "type": "string" },
          "isActive": { "type": "boolean" }
        }
      },
      "Login": {
        "type": "object",
        "properties": {
          "email": { "type": "string" },
          "password": { "type": "string" }
        }
      }
    },
    "securitySchemes": {
      "bearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT"
      }
    },
    "UnauthorizedError": {
      "description": "Unauthorized",
      "content": {
        "application/json": {
          "example": { "message": "Invalid token" }
        }
      }
    }
  }
}
